<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Dungeon Master - Dashboard</title>
    <link rel="stylesheet" href="/static/enhanced_style.css" />
  </head>
  <body>
    <div class="dashboard">
      <!-- Sol Panel -->
      <div class="left-panel">
        <h3>ğŸ§™â€â™‚ï¸ Temalar & Karakterler</h3>
        <div class="theme-tabs">
          <div class="theme-tab active" onclick="switchTheme('fantasy')">
            Fantasy
          </div>
          <div class="theme-tab" onclick="switchTheme('warhammer')">
            Warhammer 40K
          </div>
          <div class="theme-tab" onclick="switchTheme('cyberpunk')">
            Cyberpunk
          </div>
        </div>

        <!-- Character Name Input -->
        <div class="character-name-section">
          <h4>ğŸ‘¤ Karakter AdÄ±</h4>
          <div class="name-input-container">
            <input
              type="text"
              id="character-name-input"
              placeholder="Karakter adÄ±nÄ±zÄ± girin..."
              maxlength="20"
              oninput="updateCharacterName(this.value)"
            />
          </div>
        </div>

        <div id="fantasy-content" class="theme-content">
          <div class="race-class-list">
            <h4>ğŸ¹ Irklar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectRace(this, 'elf')">Elf</div>
              <div class="list-item" onclick="selectRace(this, 'human')">
                Ä°nsan
              </div>
              <div class="list-item" onclick="selectRace(this, 'dwarf')">
                CÃ¼ce
              </div>
              <div class="list-item" onclick="selectRace(this, 'orc')">Ork</div>
            </div>
          </div>
          <div class="race-class-list">
            <h4>ğŸ—¡ï¸ SÄ±nÄ±flar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectClass(this, 'warrior')">
                SavaÅŸÃ§Ä±
              </div>
              <div class="list-item" onclick="selectClass(this, 'mage')">
                BÃ¼yÃ¼cÃ¼
              </div>
              <div class="list-item" onclick="selectClass(this, 'rogue')">
                HÄ±rsÄ±z
              </div>
              <div class="list-item" onclick="selectClass(this, 'cleric')">
                Rahip
              </div>
            </div>
          </div>
        </div>

        <div id="warhammer-content" class="theme-content" style="display: none">
          <div class="race-class-list">
            <h4>ğŸ‘¥ Irklar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectRace(this, 'imperial')">
                Ä°mparatorluk
              </div>
              <div class="list-item" onclick="selectRace(this, 'spacemarine')">
                Space Marine
              </div>
              <div class="list-item" onclick="selectRace(this, 'ork40k')">
                Ork
              </div>
              <div class="list-item" onclick="selectRace(this, 'eldar')">
                Eldar
              </div>
            </div>
          </div>
          <div class="race-class-list">
            <h4>ğŸ›¡ï¸ SÄ±nÄ±flar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectClass(this, 'commissar')">
                Komiser
              </div>
              <div class="list-item" onclick="selectClass(this, 'techpriest')">
                Tech-Priest
              </div>
              <div class="list-item" onclick="selectClass(this, 'psyker')">
                Psyker
              </div>
              <div class="list-item" onclick="selectClass(this, 'guardsman')">
                Guardsman
              </div>
            </div>
          </div>
        </div>

        <div id="cyberpunk-content" class="theme-content" style="display: none">
          <div class="race-class-list">
            <h4>ğŸ”® Irklar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectRace(this, 'human-cyborg')">
                Ä°nsan
              </div>
              <div class="list-item" onclick="selectRace(this, 'android')">
                Android
              </div>
              <div class="list-item" onclick="selectRace(this, 'mutant')">
                Mutant
              </div>
              <div class="list-item" onclick="selectClass(this, 'ai')">
                Yapay Zeka
              </div>
            </div>
          </div>
          <div class="race-class-list">
            <h4>âš¡ SÄ±nÄ±flar</h4>
            <div class="list-items">
              <div class="list-item" onclick="selectClass(this, 'netrunner')">
                Netrunner
              </div>
              <div class="list-item" onclick="selectClass(this, 'solo')">
                Solo
              </div>
              <div class="list-item" onclick="selectClass(this, 'techie')">
                Techie
              </div>
              <div class="list-item" onclick="selectClass(this, 'corpo')">
                Corpo
              </div>
            </div>
          </div>
        </div>

        <div class="stats-section">
          <h4>ğŸ“Š Ã–zellikler</h4>
          <div class="stat-row">
            <span>GÃ¼Ã§</span>
            <span class="stat-value" id="str-stat">15</span>
          </div>
          <div class="stat-row">
            <span>Ã‡eviklik</span>
            <span class="stat-value" id="dex-stat">12</span>
          </div>
          <div class="stat-row">
            <span>Zeka</span>
            <span class="stat-value" id="int-stat">14</span>
          </div>
          <div class="stat-row">
            <span>DayanÄ±klÄ±lÄ±k</span>
            <span class="stat-value" id="con-stat">16</span>
          </div>
          <div class="stat-row">
            <span>Bilgelik</span>
            <span class="stat-value" id="wis-stat">13</span>
          </div>
          <div class="stat-row">
            <span>Karizma</span>
            <span class="stat-value" id="cha-stat">11</span>
          </div>
        </div>

        <!-- AI/RAG Sistem Entegrasyonu - Sol Panel AltÄ±nda -->
        <div class="ai-system-section">
          <h4>ğŸ¤– AI Destekli Senaryo OluÅŸturucu</h4>

          <!-- Dosya YÃ¼kleme -->
          <div class="file-upload-section">
            <h5>ğŸ“ Dosya YÃ¼kle</h5>
            <div class="upload-area" id="upload-area">
              <input
                type="file"
                id="file-input"
                accept=".pdf,.txt"
                style="display: none"
              />
              <button
                class="upload-btn"
                onclick="document.getElementById('file-input').click()"
              >
                Dosya SeÃ§
              </button>
              <span id="file-status">PDF/TXT dosyasÄ± seÃ§in</span>
            </div>
          </div>

          <!-- AI Senaryo Ãœretici -->
          <div class="ai-scenario-generator">
            <h5>ğŸ§™â€â™‚ï¸ AI Senaryo Ãœretici</h5>
            <div class="generator-controls">
              <div class="control-group">
                <label>Tema:</label>
                <select id="ai-theme">
                  <option value="fantasy">Fantasy</option>
                  <option value="warhammer">Warhammer 40K</option>
                  <option value="cyberpunk">Cyberpunk</option>
                </select>
              </div>
              <div class="control-group">
                <label>Zorluk:</label>
                <select id="ai-difficulty">
                  <option value="easy">Kolay</option>
                  <option value="medium">Orta</option>
                  <option value="hard">Zor</option>
                </select>
              </div>
              <div class="control-group">
                <label>Seviye:</label>
                <input type="number" id="ai-level" min="1" max="20" value="5" />
              </div>
              <button class="generate-btn" onclick="generateAIScenario()">
                ğŸ§™â€â™‚ï¸ Senaryo Ãœret
              </button>
            </div>
          </div>

          <!-- YÃ¼klenen Dosyalar -->
          <div class="uploaded-files">
            <h5>ğŸ“‚ YÃ¼klenen Dosyalar</h5>
            <div id="files-list" class="files-list">
              <!-- YÃ¼klenen dosyalar burada gÃ¶rÃ¼necek -->
            </div>
          </div>
        </div>
      </div>

      <!-- Orta Panel -->
      <div class="center-panel">
        <!-- Senaryo SeÃ§imi -->
        <div class="scenario-selection" id="scenario-selection">
          <h2>ğŸ“š Mevcut Senaryolar</h2>

          <!-- Fantasy SenaryolarÄ± -->
          <div class="scenario-category" id="fantasy-scenarios">
            <h3>ğŸ‰ FANTASY SENARYOLARI</h3>
            <div class="scenario-grid">
              <div
                class="scenario-card"
                onclick="selectScenario('living_dragon_hunt')"
              >
                <div class="scenario-header">
                  <h4>ğŸ‰ YaÅŸayan Ejderha AvÄ±</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  KÃ¶yÃ¼ tehdit eden yaÅŸayan bir ejderha var. Onu durdurmak iÃ§in
                  bir grup kahraman toplanÄ±yor. Bu sadece bir gÃ¶rev deÄŸil, bu
                  SENÄ°N HÄ°KAYEN. Her seÃ§im seni deÄŸiÅŸtirecek, her karar dÃ¼nyayÄ±
                  deÄŸiÅŸtirecek.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('dragon_hunters_path')"
              >
                <div class="scenario-header">
                  <h4>Ejderha AvcÄ±sÄ±nÄ±n Yolu</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  KÄ±zÄ±l ejderha kÃ¶yleri yakÄ±yor. Sen ejderha avcÄ±sÄ±sÄ±n. Bu
                  tehlikeli gÃ¶revde ejderhayÄ± durdurmak iÃ§in her ÅŸeyi riske
                  atacaksÄ±n.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('magical_forest_mysteries')"
              >
                <div class="scenario-header">
                  <h4>BÃ¼yÃ¼lÃ¼ OrmanÄ±n Gizemleri</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  BÃ¼yÃ¼k bir ormanda gÃ¶zlerini aÃ§Ä±yorsun. AÄŸaÃ§lar konuÅŸuyor,
                  yaratÄ±klar her yerde. Sen kimsin ve neden buradasÄ±?
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('dragon_hunt_red_flame')"
              >
                <div class="scenario-header">
                  <h4>Ejderha AvÄ±: KÄ±zÄ±l Alev</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  KÄ±zÄ±l ejderha kÃ¶yleri yakÄ±yor. Sen ejderha avcÄ±sÄ±sÄ±n. Bu
                  tehlikeli gÃ¶revde ejderhayÄ± durdurmak iÃ§in her ÅŸeyi riske
                  atacaksÄ±n.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('ancient_ruins_secret')"
              >
                <div class="scenario-header">
                  <h4>Antik Harabelerin SÄ±rrÄ±</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  Antik harabelerde gizli bir sÄ±r keÅŸfettin. Bu sÄ±r seni
                  tehlikeli bir maceraya sÃ¼rÃ¼kleyecek.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('crystal_cave_curse')"
              >
                <div class="scenario-header">
                  <h4>Kristal MaÄŸarasÄ±nÄ±n Laneti</h4>
                  <span class="difficulty medium">Medium</span>
                </div>
                <p>
                  Kristal maÄŸarasÄ±nda lanetli bir gÃ¼Ã§ var. Bu laneti kaldÄ±rmak
                  iÃ§in maÄŸaraya girmen gerekiyor.
                </p>
              </div>
            </div>
          </div>

          <!-- Warhammer SenaryolarÄ± -->
          <div
            class="scenario-category"
            id="warhammer-scenarios"
            style="display: none"
          >
            <h3>ğŸš€ WARHAMMER 40K SENARYOLARI</h3>
            <div class="scenario-grid">
              <div
                class="scenario-card"
                onclick="selectScenario('warhammer_imperial_crisis')"
              >
                <div class="scenario-header">
                  <h4>ğŸ’€ Ä°mperial Kriz</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  Ä°mperium'un bir dÃ¼nyasÄ±nda sapkÄ±nlÄ±k yayÄ±lÄ±yor. Ä°nquisitor
                  olarak gÃ¶rev yapÄ±yorsunuz. Bu sadece bir savaÅŸ deÄŸil, bu SENÄ°N
                  DÃœNYAN. Her seÃ§im seni deÄŸiÅŸtirecek, her karar dÃ¼nyayÄ±
                  deÄŸiÅŸtirecek.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('hive_city_defense')"
              >
                <div class="scenario-header">
                  <h4>Hive Åehrinin SavunmasÄ±</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  Hive ÅŸehri saldÄ±rÄ± altÄ±nda. Sen Space Marine'sin ve ÅŸehri
                  savunmak zorundasÄ±n.
                </p>
              </div>
              <div
                class="scenario-card"
                onclick="selectScenario('ork_invasion_final_defense')"
              >
                <div class="scenario-header">
                  <h4>Ork Ä°stilasÄ±: Son Savunma</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  Ork istilasÄ± baÅŸladÄ±. Son savunma hattÄ±nda durmak zorundasÄ±n.
                </p>
              </div>
            </div>
          </div>

          <!-- Cyberpunk SenaryolarÄ± -->
          <div
            class="scenario-category"
            id="cyberpunk-scenarios"
            style="display: none"
          >
            <h3>ğŸ¤– CYBERPUNK SENARYOLARI</h3>
            <div class="scenario-grid">
              <div
                class="scenario-card"
                onclick="selectScenario('cyberpunk_hive_city')"
              >
                <div class="scenario-header">
                  <h4>ğŸ¤– Hive City Kriz</h4>
                  <span class="difficulty hard">Hard</span>
                </div>
                <p>
                  Cyberpunk ÅŸehrinde gizli sÄ±rlar var. Bu sÄ±rlarÄ± keÅŸfetmek iÃ§in
                  tehlikeli bir yolculuÄŸa Ã§Ä±kacaksÄ±n.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- NPC Interaction Panel -->
        <div class="npc-interaction-panel" id="npc-interaction-panel">
          <h2>ğŸ‘¥ NPCs & Quests</h2>
          <div class="npc-grid" id="npc-grid">
            <!-- NPCs will be dynamically loaded here -->
          </div>
        </div>

        <!-- Aktif Oyun AlanÄ± -->
        <div class="active-game" id="active-game" style="display: none">
          <div class="game-header">
            <h2 id="current-scenario-title">Senaryo BaÅŸlÄ±ÄŸÄ±</h2>
            <div class="game-controls">
              <button class="control-btn" onclick="saveGame()">
                ğŸ’¾ Kaydet
              </button>
              <button class="control-btn" onclick="loadGame()">ğŸ“ YÃ¼kle</button>
              <button class="control-btn" onclick="resetGame()">
                ğŸ”„ SÄ±fÄ±rla
              </button>
            </div>
          </div>

          <div class="game-content">
            <div class="story-text" id="story-text">
              <!-- Hikaye metni burada gÃ¶rÃ¼necek -->
            </div>

            <div class="choices-section" id="choices-section">
              <h3>âš¡ SeÃ§eneklerin</h3>
              <div class="choices-grid" id="choices-grid">
                <!-- SeÃ§enekler burada gÃ¶rÃ¼necek -->
              </div>
            </div>

            <!-- Combat Section - LÄ°FE Ä°TSELF Battle Implementation -->
            <div
              class="combat-section"
              id="combat-section"
              style="display: none"
            >
              <!-- Combat UI will be dynamically generated here -->
            </div>
          </div>
        </div>
      </div>

      <!-- SaÄŸ Panel -->
      <div class="right-panel">
        <h3>ğŸ‘¤ Karakter Paneli</h3>
        <div class="character-info">
          <div class="character-name" id="char-name">Aelindra</div>
          <div class="character-details" id="char-race-class">
            Elf SavaÅŸÃ§Ä±sÄ±
          </div>
        </div>

        <div class="level-info">
          <div class="level-row">
            <span>Level:</span>
            <span class="level-value" id="char-level">1</span>
          </div>
          <div class="level-row">
            <span>XP:</span>
            <span class="level-value" id="char-xp">0/100</span>
          </div>
          <div class="level-row">
            <span>HP:</span>
            <span class="level-value" id="char-hp">100/100</span>
          </div>
          <div class="level-row">
            <span>Mana:</span>
            <span class="level-value" id="char-mana">50/50</span>
          </div>
        </div>

        <!-- Quest Panel - NEW -->
        <div class="quest-panel" id="quest-panel">
          <h4>ğŸ“‹ Quests</h4>
          <p>No active quests</p>
        </div>

        <!-- Story State Panel - NEW -->
        <div
          class="story-state-panel"
          id="story-state-panel"
          style="display: none"
        >
          <h4><i class="fas fa-book-open"></i> Hikaye Durumu</h4>

          <!-- Moral Alignment Bar -->
          <div class="moral-alignment-container">
            <label>Ahlaki Denge:</label>
            <div class="moral-alignment-bar">
              <div class="moral-alignment-indicator" id="moral-indicator"></div>
            </div>
            <span id="moral-value">0</span>
          </div>

          <!-- Trust Level Bar -->
          <div class="trust-level-container">
            <label>GÃ¼ven Seviyesi:</label>
            <div class="trust-level-bar">
              <div class="trust-level-indicator" id="trust-indicator"></div>
            </div>
            <span id="trust-value">0</span>
          </div>

          <!-- Story Progress Indicators -->
          <div class="story-progress-indicators">
            <div class="progress-item">
              <div class="progress-label">GÃ¼Ã§</div>
              <div class="progress-value" id="power-value">0</div>
              <div class="progress-bar">
                <div
                  class="progress-fill"
                  id="power-fill"
                  style="width: 0%"
                ></div>
              </div>
            </div>
            <div class="progress-item">
              <div class="progress-label">Bilgi</div>
              <div class="progress-value" id="knowledge-value">0</div>
              <div class="progress-bar">
                <div
                  class="progress-fill"
                  id="knowledge-fill"
                  style="width: 0%"
                ></div>
              </div>
            </div>
            <div class="progress-item">
              <div class="progress-label">Etki</div>
              <div class="progress-value" id="influence-value">0</div>
              <div class="progress-bar">
                <div
                  class="progress-fill"
                  id="influence-fill"
                  style="width: 0%"
                ></div>
              </div>
            </div>
          </div>

          <!-- Faction Standing -->
          <div class="faction-standing-section">
            <h5>Faksiyon Ä°liÅŸkileri:</h5>
            <div class="faction-standing-grid" id="faction-standing-grid">
              <!-- Faction items will be populated dynamically -->
            </div>
          </div>

          <!-- Story Branch Info -->
          <div class="story-branch-info">
            <h5>Hikaye DalÄ±:</h5>
            <div id="current-branch">Ana Dal</div>
            <div id="visited-nodes">Ziyaret Edilen: 0</div>
            <div id="unlocked-paths">AÃ§Ä±lan Yollar: 0</div>
          </div>
        </div>

        <!-- Skill Points Display -->
        <div class="skill-points-section" id="skill-points-display">
          <div class="skill-points-info">
            <span>Skill Points: 0</span>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-box-name">GÃ¼Ã§</div>
            <div class="stat-box-value" id="char-str">15</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-name">Ã‡eviklik</div>
            <div class="stat-box-value" id="char-dex">18</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-name">Zeka</div>
            <div class="stat-box-value" id="char-int">16</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-name">DayanÄ±klÄ±lÄ±k</div>
            <div class="stat-box-value" id="char-con">14</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-name">Bilgelik</div>
            <div class="stat-box-value" id="char-wis">13</div>
          </div>
          <div class="stat-box">
            <div class="stat-box-name">Karizma</div>
            <div class="stat-box-value" id="char-cha">17</div>
          </div>
        </div>

        <div class="equipment-section">
          <div class="equipment-title">ğŸ›¡ï¸ Ekipmanlar</div>
          <div class="equipment-slot">
            <span class="slot-name">Silah:</span>
            <span class="slot-item" id="weapon-slot">Steel Sword</span>
          </div>
          <div class="equipment-slot">
            <span class="slot-name">ZÄ±rh:</span>
            <span class="slot-item" id="armor-slot">Leather Armor</span>
          </div>
          <div class="equipment-slot">
            <span class="slot-name">Kalkan:</span>
            <span class="slot-item" id="shield-slot">-</span>
          </div>
          <div class="equipment-slot">
            <span class="slot-name">Eldiven:</span>
            <span class="slot-item" id="gloves-slot">Magic Ring</span>
          </div>
          <div class="equipment-slot">
            <span class="slot-name">AyakkabÄ±:</span>
            <span class="slot-item" id="boots-slot">-</span>
          </div>
        </div>

        <div class="inventory-section">
          <div class="inventory-title">ğŸ’ Envanter</div>
          <div class="inventory-grid" id="inventory-grid">
            <div class="inventory-slot filled">âš”ï¸</div>
            <div class="inventory-slot filled">ğŸ§ª</div>
            <div class="inventory-slot filled">ğŸ</div>
            <div class="inventory-slot filled">ğŸ’°</div>
            <div class="inventory-slot">+</div>
            <div class="inventory-slot">+</div>
            <div class="inventory-slot">+</div>
            <div class="inventory-slot">+</div>
            <div class="inventory-slot">+</div>
          </div>
        </div>

        <div class="npc-section">
          <div class="npc-title">ğŸ‘¥ NPC'ler</div>
          <div class="npc-container" id="npc-container">
            <!-- NPC'ler buraya dinamik olarak eklenecek -->
          </div>
        </div>

        <div class="game-stats-section">
          <div class="game-stats-title">ğŸ“Š Oyun Ä°statistikleri</div>
          <div class="game-stats-grid">
            <div class="stat-item">
              <span class="stat-label">Karma:</span>
              <span class="stat-value" id="player-karma">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Seviye:</span>
              <span class="stat-value" id="player-level">1</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Ä°tibar:</span>
              <span class="stat-value" id="player-reputation">0</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Basit test - JavaScript Ã§alÄ±ÅŸÄ±yor mu?
      console.log("=== GAME ENHANCED HTML LOADED ===");
      console.log("JavaScript is working!");

      // DOM elementlerini kontrol et
      window.addEventListener("DOMContentLoaded", function () {
        console.log("DOM loaded, checking elements...");

        const elements = [
          "scenario-selection",
          "active-game",
          "current-scenario-title",
          "story-text",
          "choices-grid",
        ];

        elements.forEach((id) => {
          const element = document.getElementById(id);
          if (element) {
            console.log(`âœ… ${id}: Found`);
          } else {
            console.log(`âŒ ${id}: Not found`);
          }
        });
      });

      // Test fonksiyonu
      function testScenarioSelection() {
        console.log("Test scenario selection called");
        const scenarioSelection = document.getElementById("scenario-selection");
        const activeGame = document.getElementById("active-game");

        if (scenarioSelection && activeGame) {
          scenarioSelection.style.display = "none";
          activeGame.style.display = "block";
          console.log("âœ… Display changed successfully");
          return true;
        } else {
          console.error("âŒ DOM elements not found");
          return false;
        }
      }
    </script>
    <script src="/static/enhanced_script.js"></script>
  </body>
</html>
